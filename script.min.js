// Ініціалізація при завантаженні DOM
document.addEventListener("DOMContentLoaded",function(){
    // Обробка мобільного меню
    const e=document.getElementById("hamburger-button"),
          t=document.getElementById("nav-links"),
          n=document.getElementById("close-menu-button");
    
    // Відкриття мобільного меню
    e&&t&&(e.addEventListener("click",function(){
        t.classList.add("active"),
        e.setAttribute("aria-expanded","true")
    }));

    // Закриття мобільного меню
    n&&n.addEventListener("click",function(){
        t.classList.remove("active"),
        e.setAttribute("aria-expanded","false")
    });

    // Обробка фіксованого меню при скролі
    const o=document.querySelector(".nav");
    window.addEventListener("scroll",function(){
        window.scrollY>50?o.classList.add("scrolled"):o.classList.remove("scrolled")
    });

    // Плавний скрол для внутрішніх посилань
    document.querySelectorAll('a[href^="#"]').forEach(e=>{
        e.addEventListener("click",function(t){
            if(""!==this.getAttribute("href").substring(1)){
                t.preventDefault();
                const n=this.getAttribute("href").substring(1),
                      o=document.getElementById(n);
                if(o){
                    const t=o.offsetTop-80;
                    window.scrollTo({top:t,behavior:"smooth"})
                }
                t.target.closest(".nav-links")&&document.getElementById("nav-links").classList.remove("active")
            }
        })
    });

    // Обробка форми резервації
    const s=document.getElementById("reservationForm");
    s&&s.addEventListener("submit",function(e){
        e.preventDefault();
        const t=document.getElementById("form-status");
        t.textContent="Дякуємо! Ми зв'яжемося з вами найближчим часом.",
        s.reset()
    });

    // Анімація елементів при скролі
    const i=document.querySelectorAll(".animate-on-scroll");
    if(i.length){
        const a=new IntersectionObserver(e=>{
            e.forEach(e=>{
                e.isIntersecting&&e.target.classList.add("visible")
            })
        });
        i.forEach(e=>a.observe(e))
    }

    // Ініціалізація слайдера відгуків
    if(document.querySelector(".testimonials-slider")){
        new Swiper(".testimonials-slider",{
            slidesPerView:1,
            spaceBetween:30,
            loop:!0,
            autoplay:{
                delay:5e3,
                disableOnInteraction:!1
            },
            pagination:{
                el:".swiper-pagination",
                clickable:!0
            },
            breakpoints:{
                768:{slidesPerView:2},
                1024:{slidesPerView:3}
            }
        })
    }

    // Обробка галереї зображень
    const r=document.querySelectorAll(".gallery-link");
    r.length&&r.forEach(e=>{
        e.addEventListener("click",t=>{
            t.preventDefault();
            const n=e.getAttribute("href");
            basicLightbox.create(`<img src="${n}" alt="Gallery Image">`).show()
        })
    })
}); 